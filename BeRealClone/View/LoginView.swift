////  LoginView.swift//  BeRealClone////  Created by Michael Steelman on 9/22/25.//import SwiftUIimport ParseSwiftimport PhotosUIstruct LoginView: View {    @State private var username = ""    @State private var password = ""    @State private var showAlert = false    @State private var alertMessage = ""    @Binding var showSignUp: Bool        var body: some View {        ZStack {            Color.black                .ignoresSafeArea()                        VStack(spacing: 30) {                Text("BeReal.")                    .font(.system(size: 48, weight: .bold))                    .foregroundColor(.white)                    .padding(.top, 100)                                VStack(spacing: 20) {                    TextField("Username", text: $username)                        .textFieldStyle(CustomTextFieldStyle())                        .autocapitalization(.none)                                        SecureField("Password", text: $password)                        .textFieldStyle(CustomTextFieldStyle())                }                .padding(.horizontal, 30)                                VStack(spacing: 15) {                    Button(action: onLoginTapped) {                        Text("Log In")                            .font(.system(size: 18, weight: .semibold))                            .foregroundColor(.black)                            .frame(maxWidth: .infinity)                            .padding(.vertical, 15)                            .background(Color.white)                            .cornerRadius(12)                    }                                        Button(action: { showSignUp = true }) {                        Text("Sign Up")                            .font(.system(size: 18, weight: .semibold))                            .foregroundColor(.white)                            .frame(maxWidth: .infinity)                            .padding(.vertical, 15)                            .background(Color.gray.opacity(0.3))                            .cornerRadius(12)                    }                }                .padding(.horizontal, 30)                                Spacer()            }        }        .alert(isPresented: $showAlert) {            Alert(title: Text("Login Error"), message: Text(alertMessage), dismissButton: .default(Text("OK")))        }    }        func onLoginTapped() {        // Make sure all fields are filled        guard !username.isEmpty,              !password.isEmpty else {            showAlert(description: "Please fill out all fields")            return        }                // Log in the parse user using async/await for better session handling        Task {            do {                let user = try await User.login(username: username, password: password)                print("âœ… Successfully logged in as user: \(user)")                                // Post a notification that the user has successfully logged in                await MainActor.run {                    NotificationCenter.default.post(name: Notification.Name("login"), object: nil)                }                            } catch {                await MainActor.run {                    self.showAlert(description: error.localizedDescription)                }            }        }    }        func showAlert(description: String) {        alertMessage = description        showAlert = true    }}