////  w.swift//  BeRealClone////  Created by Michael Steelman on 9/22/25.//import SwiftUIimport ParseSwiftimport PhotosUIstruct SignUpView: View {    @State private var username = ""    @State private var email = ""    @State private var password = ""    @State private var showAlert = false    @State private var alertMessage = ""    @Binding var showSignUp: Bool        var body: some View {        NavigationView {            ZStack {                Color.black                    .ignoresSafeArea()                                VStack(spacing: 30) {                    Text("BeReal.")                        .font(.system(size: 48, weight: .bold))                        .foregroundColor(.white)                        .padding(.top, 50)                                        Text("Create Account")                        .font(.system(size: 24, weight: .medium))                        .foregroundColor(.gray)                                        VStack(spacing: 20) {                        TextField("Username", text: $username)                            .textFieldStyle(CustomTextFieldStyle())                            .autocapitalization(.none)                                                TextField("Email", text: $email)                            .textFieldStyle(CustomTextFieldStyle())                            .autocapitalization(.none)                            .keyboardType(.emailAddress)                                                SecureField("Password", text: $password)                            .textFieldStyle(CustomTextFieldStyle())                    }                    .padding(.horizontal, 30)                                        Button(action: onSignUpTapped) {                        Text("Sign Up")                            .font(.system(size: 18, weight: .semibold))                            .foregroundColor(.black)                            .frame(maxWidth: .infinity)                            .padding(.vertical, 15)                            .background(Color.white)                            .cornerRadius(12)                    }                    .padding(.horizontal, 30)                                        Spacer()                }            }            .navigationBarItems(                leading: Button("Cancel") {                    showSignUp = false                }                .foregroundColor(.white)            )        }        .alert(isPresented: $showAlert) {            Alert(title: Text("Sign Up Error"), message: Text(alertMessage), dismissButton: .default(Text("OK")))        }    }        func onSignUpTapped() {        // Make sure all fields are filled        guard !username.isEmpty,              !email.isEmpty,              !password.isEmpty else {            showAlert(description: "Please fill out all fields.")            return        }                // Sign up user using async/await for better session handling        Task {            do {                var newUser = User()                newUser.username = username                newUser.email = email                newUser.password = password                                let signedUpUser = try await newUser.signup()                print("âœ… Successfully signed up user \(signedUpUser)")                                // Post a notification that the user has successfully signed up                await MainActor.run {                    NotificationCenter.default.post(name: Notification.Name("login"), object: nil)                }                            } catch {                await MainActor.run {                    self.showAlert(description: error.localizedDescription)                }            }        }    }        func showAlert(description: String) {        alertMessage = description        showAlert = true    }}